# 🎄 豪华互动圣诞树 (Grand Luxury Interactive Christmas Tree)

![React](https://img.shields.io/badge/React-18-blue) ![Three.js](https://img.shields.io/badge/Three.js-r160-black) ![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-v4-cyan)

这是一个基于 **React Three Fiber** 和 **Three.js** 构建的高保真 3D 互动圣诞体验。它采用了特朗普风格的奢华美学（金、绿、白），并拥有独特的“从混沌到秩序”的动态粒子系统和 3D 相册功能。

---

## 📖 核心功能 (Core Features)

1.  **形态变换系统 (Chaos-to-Form Animation)**：
    *   圣诞树由超过 12,000 个叶片粒子和数百个精细装饰物组成。
    *   支持“混沌模式”与“成型模式”的无缝切换，所有元素在空间中优雅地汇聚或消散。
2.  **奢华 3D 相册 (Memory Gallery)**：
    *   用户可以上传多达 30 张本地照片。
    *   照片以拍立得（Polaroid）风格的 3D 相框呈现，螺旋式悬浮环绕在圣诞树周围。
3.  **沉浸式交互细节**：
    *   **聚焦查看**：点击任意相框，镜头平滑推进聚焦。
    *   **双面翻转**：在聚焦状态下双击相框，可查看背面的专属寄语。
    *   **动态环境**：高级后处理（Bloom, Vignette）搭配实时反射，营造电影级质感。

---

## 🎮 操作指南 (Operation Guide)

| 动作 | 操作方式 | 效果说明 |
| :--- | :--- | :--- |
| **形态切换** | **长按屏幕 (约1.8秒)** | 触发圣诞树的汇聚（成型）或散开（混沌）。 |
| **视角控制** | **单指拖拽 / 鼠标左键** | 旋转视角，全方位观察 3D 场景。 |
| **缩放视角** | **双指捏合 / 鼠标滚轮** | 靠近或远离圣诞树。 |
| **聚焦照片** | **单击 3D 相框** | 镜头自动对焦该照片，展示细节。 |
| **翻转照片** | **双击已聚焦的相框** | 相框 180° 翻转，查看背面文字。 |
| **退出聚焦** | **单击屏幕空白处** | 镜头回退，恢复自由观察模式。 |
| **管理资源** | **底部菜单按钮** | 上传/清除照片，或更改相框背面默认图。 |

---

## 🚀 部署方法 (Deployment)

本项目推荐使用 **Vite** 进行开发和构建。

### 1. 本地开发环境
1. 确保已安装 [Node.js](https://nodejs.org/) (推荐 v18+)。
2. 克隆或下载本项目代码。
3. 在项目根目录执行以下命令安装依赖：
   ```bash
   npm install
   ```
4. 启动开发服务器：
   ```bash
   npm run dev
   ```
5. 访问 `http://localhost:5173` 预览效果。

### 2. 项目构建
若要生成用于生产环境的静态文件，运行：
```bash
npm run build
```
构建产物将存放在 `dist/` 目录下。

### 3. 静态托管部署
*   **Vercel / Netlify**: 关联 GitHub 仓库，选择 Vite 预设即可一键部署。
*   **GitHub Pages**:
    1. 在 `vite.config.ts` 中设置 `base: './'`。
    2. 将 `dist` 目录内容上传至 `gh-pages` 分支。

---

## 🛠️ 技术亮点 (Technical Highlights)

*   **性能优化**：
    *   **实例化渲染 (Instancing)**：装饰物使用 `InstancedMesh`，确保成百上千个物体在移动端也能流畅运行。
    *   **着色器粒子 (Shaders)**：树叶采用自定义 GPU 顶点着色器处理位移，极大降低 CPU 负担。
    *   **智能压缩**：前端自动调整上传图片分辨率（最大 1024px），防止显存溢出。
*   **视觉增强**：
    *   **PBR 材质**：所有装饰球均具有高金属度和低粗糙度，实时反射环境光图。
    *   **后处理管线**：通过 `EffectComposer` 实现柔和的辉光（Bloom）效果，增强节日氛围。

---

## 📱 移动端适配
*   适配了 iOS/Android 的安全区域（Safe Areas）。
*   禁用了长按菜单、选中以及双击缩放等干扰 3D 体验的浏览器默认行为。
*   优化了触摸反馈，支持多点触控缩放。

---
*愿这份互动的温暖为您和您的家人带来节日的美好回忆。*